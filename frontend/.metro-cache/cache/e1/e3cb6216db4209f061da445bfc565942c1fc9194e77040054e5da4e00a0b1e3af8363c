{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":31,"index":160}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          // Fetch user profile\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const register = async (username, email, password) => {\n      const response = await api.default.post('/auth/register', {\n        username,\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":123,"map":[[28,2,26,0,"exports"],[28,9,26,0],[28,10,26,0,"AuthProvider"],[28,22,26,0],[28,25,26,0,"AuthProvider"],[28,37,26,0],[29,2,87,0,"exports"],[29,9,87,0],[29,10,87,0,"useAuth"],[29,17,87,0],[29,20,87,0,"useAuth"],[29,27,87,0],[30,2,1,0],[30,6,1,0,"_react"],[30,12,1,0],[30,15,1,0,"require"],[30,22,1,0],[30,23,1,0,"_dependencyMap"],[30,37,1,0],[31,2,2,0],[31,6,2,0,"_expoSecureStore"],[31,22,2,0],[31,25,2,0,"require"],[31,32,2,0],[31,33,2,0,"_dependencyMap"],[31,47,2,0],[32,2,2,0],[32,6,2,0,"SecureStore"],[32,17,2,0],[32,20,2,0,"_interopNamespace"],[32,37,2,0],[32,38,2,0,"_expoSecureStore"],[32,54,2,0],[33,2,3,0],[33,6,3,0,"_utilsApi"],[33,15,3,0],[33,18,3,0,"require"],[33,25,3,0],[33,26,3,0,"_dependencyMap"],[33,40,3,0],[34,2,3,0],[34,6,3,0,"api"],[34,9,3,0],[34,12,3,0,"_interopDefault"],[34,27,3,0],[34,28,3,0,"_utilsApi"],[34,37,3,0],[35,2,3,31],[35,6,3,31,"_reactJsxDevRuntime"],[35,25,3,31],[35,28,3,31,"require"],[35,35,3,31],[35,36,3,31,"_dependencyMap"],[35,50,3,31],[36,2,24,0],[36,8,24,6,"AuthContext"],[36,19,24,17],[36,35,24,20],[36,39,24,20,"createContext"],[36,45,24,33],[36,46,24,33,"createContext"],[36,59,24,33],[36,61,24,63,"undefined"],[36,70,24,72],[36,71,24,73],[37,2,26,7],[37,11,26,16,"AuthProvider"],[37,23,26,28,"AuthProvider"],[37,24,26,29],[38,4,26,31,"children"],[39,2,26,71],[39,3,26,72],[39,5,26,74],[40,4,27,2],[40,10,27,8],[40,11,27,9,"user"],[40,15,27,13],[40,17,27,15,"setUser"],[40,24,27,22],[40,25,27,23],[40,28,27,26],[40,32,27,26,"useState"],[40,38,27,34],[40,39,27,34,"useState"],[40,47,27,34],[40,49,27,48],[40,53,27,52],[40,54,27,53],[41,4,28,2],[41,10,28,8],[41,11,28,9,"token"],[41,16,28,14],[41,18,28,16,"setToken"],[41,26,28,24],[41,27,28,25],[41,30,28,28],[41,34,28,28,"useState"],[41,40,28,36],[41,41,28,36,"useState"],[41,49,28,36],[41,51,28,52],[41,55,28,56],[41,56,28,57],[42,4,29,2],[42,10,29,8],[42,11,29,9,"loading"],[42,18,29,16],[42,20,29,18,"setLoading"],[42,30,29,28],[42,31,29,29],[42,34,29,32],[42,38,29,32,"useState"],[42,44,29,40],[42,45,29,40,"useState"],[42,53,29,40],[42,55,29,41],[42,59,29,45],[42,60,29,46],[43,4,31,2],[43,8,31,2,"useEffect"],[43,14,31,11],[43,15,31,11,"useEffect"],[43,24,31,11],[43,26,31,12],[43,32,31,18],[44,6,32,4,"loadStoredAuth"],[44,20,32,18],[44,21,32,19],[44,22,32,20],[45,4,33,2],[45,5,33,3],[45,7,33,5],[45,9,33,7],[45,10,33,8],[46,4,35,2],[46,10,35,8,"loadStoredAuth"],[46,24,35,22],[46,27,35,25],[46,33,35,25,"loadStoredAuth"],[46,34,35,25],[46,39,35,37],[47,6,36,4],[47,10,36,8],[48,8,37,6],[48,14,37,12,"storedToken"],[48,25,37,23],[48,28,37,26],[48,34,37,32,"SecureStore"],[48,45,37,43],[48,46,37,44,"getItemAsync"],[48,58,37,56],[48,59,37,57],[48,70,37,68],[48,71,37,69],[49,8,38,6],[49,12,38,10,"storedToken"],[49,23,38,21],[49,25,38,23],[50,10,39,8,"setToken"],[50,18,39,16],[50,19,39,17,"storedToken"],[50,30,39,28],[50,31,39,29],[51,10,40,8],[52,10,41,8],[52,16,41,14,"response"],[52,24,41,22],[52,27,41,25],[52,33,41,31,"api"],[52,36,41,34],[52,37,41,34,"default"],[52,44,41,34],[52,45,41,35,"get"],[52,48,41,38],[52,49,41,39],[52,59,41,49],[52,60,41,50],[53,10,42,8,"setUser"],[53,17,42,15],[53,18,42,16,"response"],[53,26,42,24],[53,27,42,25,"data"],[53,31,42,29],[53,32,42,30],[54,8,43,6],[55,6,44,4],[55,7,44,5],[55,8,44,6],[55,15,44,13,"error"],[55,20,44,18],[55,22,44,20],[56,8,45,6,"console"],[56,15,45,13],[56,16,45,14,"error"],[56,21,45,19],[56,22,45,20],[56,43,45,41],[56,45,45,43,"error"],[56,50,45,48],[56,51,45,49],[57,6,46,4],[57,7,46,5],[57,16,46,14],[58,8,47,6,"setLoading"],[58,18,47,16],[58,19,47,17],[58,24,47,22],[58,25,47,23],[59,6,48,4],[60,4,49,2],[60,5,49,3],[61,4,51,2],[61,10,51,8,"login"],[61,15,51,13],[61,18,51,16],[61,24,51,16,"login"],[61,25,51,23,"email"],[61,30,51,36],[61,32,51,38,"password"],[61,40,51,54],[61,45,51,59],[62,6,52,4],[62,12,52,10,"response"],[62,20,52,18],[62,23,52,21],[62,29,52,27,"api"],[62,32,52,30],[62,33,52,30,"default"],[62,40,52,30],[62,41,52,31,"post"],[62,45,52,35],[62,46,52,36],[62,59,52,49],[62,61,52,51],[63,8,52,53,"email"],[63,13,52,58],[64,8,52,60,"password"],[65,6,52,69],[65,7,52,70],[65,8,52,71],[66,6,53,4],[66,12,53,10],[67,8,53,12,"token"],[67,13,53,17],[67,15,53,19,"newToken"],[67,23,53,27],[68,8,53,29,"user"],[68,12,53,33],[68,14,53,35,"newUser"],[69,6,53,43],[69,7,53,44],[69,10,53,47,"response"],[69,18,53,55],[69,19,53,56,"data"],[69,23,53,60],[70,6,54,4],[70,12,54,10,"SecureStore"],[70,23,54,21],[70,24,54,22,"setItemAsync"],[70,36,54,34],[70,37,54,35],[70,48,54,46],[70,50,54,48,"newToken"],[70,58,54,56],[70,59,54,57],[71,6,55,4,"setToken"],[71,14,55,12],[71,15,55,13,"newToken"],[71,23,55,21],[71,24,55,22],[72,6,56,4,"setUser"],[72,13,56,11],[72,14,56,12,"newUser"],[72,21,56,19],[72,22,56,20],[73,4,57,2],[73,5,57,3],[74,4,59,2],[74,10,59,8,"register"],[74,18,59,16],[74,21,59,19],[74,27,59,19,"register"],[74,28,59,26,"username"],[74,36,59,42],[74,38,59,44,"email"],[74,43,59,57],[74,45,59,59,"password"],[74,53,59,75],[74,58,59,80],[75,6,60,4],[75,12,60,10,"response"],[75,20,60,18],[75,23,60,21],[75,29,60,27,"api"],[75,32,60,30],[75,33,60,30,"default"],[75,40,60,30],[75,41,60,31,"post"],[75,45,60,35],[75,46,60,36],[75,62,60,52],[75,64,60,54],[76,8,60,56,"username"],[76,16,60,64],[77,8,60,66,"email"],[77,13,60,71],[78,8,60,73,"password"],[79,6,60,82],[79,7,60,83],[79,8,60,84],[80,6,61,4],[80,12,61,10],[81,8,61,12,"token"],[81,13,61,17],[81,15,61,19,"newToken"],[81,23,61,27],[82,8,61,29,"user"],[82,12,61,33],[82,14,61,35,"newUser"],[83,6,61,43],[83,7,61,44],[83,10,61,47,"response"],[83,18,61,55],[83,19,61,56,"data"],[83,23,61,60],[84,6,62,4],[84,12,62,10,"SecureStore"],[84,23,62,21],[84,24,62,22,"setItemAsync"],[84,36,62,34],[84,37,62,35],[84,48,62,46],[84,50,62,48,"newToken"],[84,58,62,56],[84,59,62,57],[85,6,63,4,"setToken"],[85,14,63,12],[85,15,63,13,"newToken"],[85,23,63,21],[85,24,63,22],[86,6,64,4,"setUser"],[86,13,64,11],[86,14,64,12,"newUser"],[86,21,64,19],[86,22,64,20],[87,4,65,2],[87,5,65,3],[88,4,67,2],[88,10,67,8,"logout"],[88,16,67,14],[88,19,67,17],[88,25,67,17,"logout"],[88,26,67,17],[88,31,67,29],[89,6,68,4],[89,12,68,10,"SecureStore"],[89,23,68,21],[89,24,68,22,"deleteItemAsync"],[89,39,68,37],[89,40,68,38],[89,51,68,49],[89,52,68,50],[90,6,69,4,"setToken"],[90,14,69,12],[90,15,69,13],[90,19,69,17],[90,20,69,18],[91,6,70,4,"setUser"],[91,13,70,11],[91,14,70,12],[91,18,70,16],[91,19,70,17],[92,4,71,2],[92,5,71,3],[93,4,73,2],[93,10,73,8,"refreshUser"],[93,21,73,19],[93,24,73,22],[93,30,73,22,"refreshUser"],[93,31,73,22],[93,36,73,34],[94,6,74,4],[94,10,74,8,"token"],[94,15,74,13],[94,17,74,15],[95,8,75,6],[95,14,75,12,"response"],[95,22,75,20],[95,25,75,23],[95,31,75,29,"api"],[95,34,75,32],[95,35,75,32,"default"],[95,42,75,32],[95,43,75,33,"get"],[95,46,75,36],[95,47,75,37],[95,57,75,47],[95,58,75,48],[96,8,76,6,"setUser"],[96,15,76,13],[96,16,76,14,"response"],[96,24,76,22],[96,25,76,23,"data"],[96,29,76,27],[96,30,76,28],[97,6,77,4],[98,4,78,2],[98,5,78,3],[99,4,80,2],[99,24,81,4],[99,28,81,4,"_reactJsxDevRuntime"],[99,47,81,4],[99,48,81,4,"jsxDEV"],[99,54,81,4],[99,56,81,5,"AuthContext"],[99,67,81,16],[99,68,81,17,"Provider"],[99,76,81,25],[100,6,81,26,"value"],[100,11,81,31],[100,13,81,33],[101,8,81,35,"user"],[101,12,81,39],[102,8,81,41,"token"],[102,13,81,46],[103,8,81,48,"loading"],[103,15,81,55],[104,8,81,57,"login"],[104,13,81,62],[105,8,81,64,"register"],[105,16,81,72],[106,8,81,74,"logout"],[106,14,81,80],[107,8,81,82,"refreshUser"],[108,6,81,94],[108,7,81,96],[109,6,81,96,"children"],[109,14,81,96],[109,16,82,7,"children"],[110,4,82,15],[111,6,82,15,"fileName"],[111,14,82,15],[111,16,82,15,"_jsxFileName"],[111,28,82,15],[112,6,82,15,"lineNumber"],[112,16,82,15],[113,6,82,15,"columnNumber"],[113,18,82,15],[114,4,82,15],[114,11,83,26],[114,12,83,27],[115,2,85,0],[116,2,87,7],[116,11,87,16,"useAuth"],[116,18,87,23,"useAuth"],[116,19,87,23],[116,21,87,26],[117,4,88,2],[117,10,88,8,"context"],[117,17,88,15],[117,20,88,18],[117,24,88,18,"useContext"],[117,30,88,28],[117,31,88,28,"useContext"],[117,41,88,28],[117,43,88,29,"AuthContext"],[117,54,88,40],[117,55,88,41],[118,4,89,2],[118,8,89,6,"context"],[118,15,89,13],[118,20,89,18,"undefined"],[118,29,89,27],[118,31,89,29],[119,6,90,4],[119,12,90,10],[119,16,90,14,"Error"],[119,21,90,19],[119,22,90,20],[119,67,90,65],[119,68,90,66],[120,4,91,2],[121,4,92,2],[121,11,92,9,"context"],[121,18,92,16],[122,2,93,0],[123,0,93,1],[123,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHM;mBIE;GJM;iBKE;GLI;sBME;GNK;CDO;OQE"},"hasCjsExports":false},"type":"js/module"}]}