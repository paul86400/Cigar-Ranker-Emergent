{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":170},"end":{"line":4,"column":31,"index":201}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _utilsApi = require(_dependencyMap[3], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Storage helpers with web fallback\n  const storage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await storage.getItem('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          // Fetch user profile\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await storage.setItem('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const register = async (username, email, password) => {\n      const response = await api.default.post('/auth/register', {\n        username,\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await storage.setItem('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const logout = async () => {\n      await storage.deleteItem('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":158,"map":[[30,2,51,0,"exports"],[30,9,51,0],[30,10,51,0,"AuthProvider"],[30,22,51,0],[30,25,51,0,"AuthProvider"],[30,37,51,0],[31,2,112,0,"exports"],[31,9,112,0],[31,10,112,0,"useAuth"],[31,17,112,0],[31,20,112,0,"useAuth"],[31,27,112,0],[32,2,1,0],[32,6,1,0,"_react"],[32,12,1,0],[32,15,1,0,"require"],[32,22,1,0],[32,23,1,0,"_dependencyMap"],[32,37,1,0],[33,2,2,0],[33,6,2,0,"_expoSecureStore"],[33,22,2,0],[33,25,2,0,"require"],[33,32,2,0],[33,33,2,0,"_dependencyMap"],[33,47,2,0],[34,2,2,0],[34,6,2,0,"SecureStore"],[34,17,2,0],[34,20,2,0,"_interopNamespace"],[34,37,2,0],[34,38,2,0,"_expoSecureStore"],[34,54,2,0],[35,2,2,49],[35,6,2,49,"_reactNativeWebDistExportsPlatform"],[35,40,2,49],[35,43,2,49,"require"],[35,50,2,49],[35,51,2,49,"_dependencyMap"],[35,65,2,49],[36,2,2,49],[36,6,2,49,"Platform"],[36,14,2,49],[36,17,2,49,"_interopDefault"],[36,32,2,49],[36,33,2,49,"_reactNativeWebDistExportsPlatform"],[36,67,2,49],[37,2,4,0],[37,6,4,0,"_utilsApi"],[37,15,4,0],[37,18,4,0,"require"],[37,25,4,0],[37,26,4,0,"_dependencyMap"],[37,40,4,0],[38,2,4,0],[38,6,4,0,"api"],[38,9,4,0],[38,12,4,0,"_interopDefault"],[38,27,4,0],[38,28,4,0,"_utilsApi"],[38,37,4,0],[39,2,4,31],[39,6,4,31,"_reactJsxDevRuntime"],[39,25,4,31],[39,28,4,31,"require"],[39,35,4,31],[39,36,4,31,"_dependencyMap"],[39,50,4,31],[40,2,25,0],[40,8,25,6,"AuthContext"],[40,19,25,17],[40,35,25,20],[40,39,25,20,"createContext"],[40,45,25,33],[40,46,25,33,"createContext"],[40,59,25,33],[40,61,25,63,"undefined"],[40,70,25,72],[40,71,25,73],[42,2,27,0],[43,2,28,0],[43,8,28,6,"storage"],[43,15,28,13],[43,18,28,16],[44,4,29,2],[44,10,29,8,"getItem"],[44,17,29,15,"getItem"],[44,18,29,16,"key"],[44,21,29,27],[44,23,29,53],[45,6,30,4],[45,10,30,8,"Platform"],[45,18,30,16],[45,19,30,16,"default"],[45,26,30,16],[45,27,30,17,"OS"],[45,29,30,19],[45,34,30,24],[45,39,30,29],[45,41,30,31],[46,8,31,6],[46,15,31,13,"localStorage"],[46,27,31,25],[46,28,31,26,"getItem"],[46,35,31,33],[46,36,31,34,"key"],[46,39,31,37],[46,40,31,38],[47,6,32,4],[48,6,33,4],[48,13,33,11],[48,19,33,17,"SecureStore"],[48,30,33,28],[48,31,33,29,"getItemAsync"],[48,43,33,41],[48,44,33,42,"key"],[48,47,33,45],[48,48,33,46],[49,4,34,2],[49,5,34,3],[50,4,35,2],[50,10,35,8,"setItem"],[50,17,35,15,"setItem"],[50,18,35,16,"key"],[50,21,35,27],[50,23,35,29,"value"],[50,28,35,42],[50,30,35,59],[51,6,36,4],[51,10,36,8,"Platform"],[51,18,36,16],[51,19,36,16,"default"],[51,26,36,16],[51,27,36,17,"OS"],[51,29,36,19],[51,34,36,24],[51,39,36,29],[51,41,36,31],[52,8,37,6,"localStorage"],[52,20,37,18],[52,21,37,19,"setItem"],[52,28,37,26],[52,29,37,27,"key"],[52,32,37,30],[52,34,37,32,"value"],[52,39,37,37],[52,40,37,38],[53,6,38,4],[53,7,38,5],[53,13,38,11],[54,8,39,6],[54,14,39,12,"SecureStore"],[54,25,39,23],[54,26,39,24,"setItemAsync"],[54,38,39,36],[54,39,39,37,"key"],[54,42,39,40],[54,44,39,42,"value"],[54,49,39,47],[54,50,39,48],[55,6,40,4],[56,4,41,2],[56,5,41,3],[57,4,42,2],[57,10,42,8,"deleteItem"],[57,20,42,18,"deleteItem"],[57,21,42,19,"key"],[57,24,42,30],[57,26,42,47],[58,6,43,4],[58,10,43,8,"Platform"],[58,18,43,16],[58,19,43,16,"default"],[58,26,43,16],[58,27,43,17,"OS"],[58,29,43,19],[58,34,43,24],[58,39,43,29],[58,41,43,31],[59,8,44,6,"localStorage"],[59,20,44,18],[59,21,44,19,"removeItem"],[59,31,44,29],[59,32,44,30,"key"],[59,35,44,33],[59,36,44,34],[60,6,45,4],[60,7,45,5],[60,13,45,11],[61,8,46,6],[61,14,46,12,"SecureStore"],[61,25,46,23],[61,26,46,24,"deleteItemAsync"],[61,41,46,39],[61,42,46,40,"key"],[61,45,46,43],[61,46,46,44],[62,6,47,4],[63,4,48,2],[64,2,49,0],[64,3,49,1],[65,2,51,7],[65,11,51,16,"AuthProvider"],[65,23,51,28,"AuthProvider"],[65,24,51,29],[66,4,51,31,"children"],[67,2,51,71],[67,3,51,72],[67,5,51,74],[68,4,51,74,"_s"],[68,6,51,74],[69,4,52,2],[69,10,52,8],[69,11,52,9,"user"],[69,15,52,13],[69,17,52,15,"setUser"],[69,24,52,22],[69,25,52,23],[69,28,52,26],[69,32,52,26,"useState"],[69,38,52,34],[69,39,52,34,"useState"],[69,47,52,34],[69,49,52,48],[69,53,52,52],[69,54,52,53],[70,4,53,2],[70,10,53,8],[70,11,53,9,"token"],[70,16,53,14],[70,18,53,16,"setToken"],[70,26,53,24],[70,27,53,25],[70,30,53,28],[70,34,53,28,"useState"],[70,40,53,36],[70,41,53,36,"useState"],[70,49,53,36],[70,51,53,52],[70,55,53,56],[70,56,53,57],[71,4,54,2],[71,10,54,8],[71,11,54,9,"loading"],[71,18,54,16],[71,20,54,18,"setLoading"],[71,30,54,28],[71,31,54,29],[71,34,54,32],[71,38,54,32,"useState"],[71,44,54,40],[71,45,54,40,"useState"],[71,53,54,40],[71,55,54,41],[71,59,54,45],[71,60,54,46],[72,4,56,2],[72,8,56,2,"useEffect"],[72,14,56,11],[72,15,56,11,"useEffect"],[72,24,56,11],[72,26,56,12],[72,32,56,18],[73,6,57,4,"loadStoredAuth"],[73,20,57,18],[73,21,57,19],[73,22,57,20],[74,4,58,2],[74,5,58,3],[74,7,58,5],[74,9,58,7],[74,10,58,8],[75,4,60,2],[75,10,60,8,"loadStoredAuth"],[75,24,60,22],[75,27,60,25],[75,33,60,25,"loadStoredAuth"],[75,34,60,25],[75,39,60,37],[76,6,61,4],[76,10,61,8],[77,8,62,6],[77,14,62,12,"storedToken"],[77,25,62,23],[77,28,62,26],[77,34,62,32,"storage"],[77,41,62,39],[77,42,62,40,"getItem"],[77,49,62,47],[77,50,62,48],[77,61,62,59],[77,62,62,60],[78,8,63,6],[78,12,63,10,"storedToken"],[78,23,63,21],[78,25,63,23],[79,10,64,8,"setToken"],[79,18,64,16],[79,19,64,17,"storedToken"],[79,30,64,28],[79,31,64,29],[80,10,65,8],[81,10,66,8],[81,16,66,14,"response"],[81,24,66,22],[81,27,66,25],[81,33,66,31,"api"],[81,36,66,34],[81,37,66,34,"default"],[81,44,66,34],[81,45,66,35,"get"],[81,48,66,38],[81,49,66,39],[81,59,66,49],[81,60,66,50],[82,10,67,8,"setUser"],[82,17,67,15],[82,18,67,16,"response"],[82,26,67,24],[82,27,67,25,"data"],[82,31,67,29],[82,32,67,30],[83,8,68,6],[84,6,69,4],[84,7,69,5],[84,8,69,6],[84,15,69,13,"error"],[84,20,69,18],[84,22,69,20],[85,8,70,6,"console"],[85,15,70,13],[85,16,70,14,"error"],[85,21,70,19],[85,22,70,20],[85,43,70,41],[85,45,70,43,"error"],[85,50,70,48],[85,51,70,49],[86,6,71,4],[86,7,71,5],[86,16,71,14],[87,8,72,6,"setLoading"],[87,18,72,16],[87,19,72,17],[87,24,72,22],[87,25,72,23],[88,6,73,4],[89,4,74,2],[89,5,74,3],[90,4,76,2],[90,10,76,8,"login"],[90,15,76,13],[90,18,76,16],[90,24,76,16,"login"],[90,25,76,23,"email"],[90,30,76,36],[90,32,76,38,"password"],[90,40,76,54],[90,45,76,59],[91,6,77,4],[91,12,77,10,"response"],[91,20,77,18],[91,23,77,21],[91,29,77,27,"api"],[91,32,77,30],[91,33,77,30,"default"],[91,40,77,30],[91,41,77,31,"post"],[91,45,77,35],[91,46,77,36],[91,59,77,49],[91,61,77,51],[92,8,77,53,"email"],[92,13,77,58],[93,8,77,60,"password"],[94,6,77,69],[94,7,77,70],[94,8,77,71],[95,6,78,4],[95,12,78,10],[96,8,78,12,"token"],[96,13,78,17],[96,15,78,19,"newToken"],[96,23,78,27],[97,8,78,29,"user"],[97,12,78,33],[97,14,78,35,"newUser"],[98,6,78,43],[98,7,78,44],[98,10,78,47,"response"],[98,18,78,55],[98,19,78,56,"data"],[98,23,78,60],[99,6,79,4],[99,12,79,10,"storage"],[99,19,79,17],[99,20,79,18,"setItem"],[99,27,79,25],[99,28,79,26],[99,39,79,37],[99,41,79,39,"newToken"],[99,49,79,47],[99,50,79,48],[100,6,80,4,"setToken"],[100,14,80,12],[100,15,80,13,"newToken"],[100,23,80,21],[100,24,80,22],[101,6,81,4,"setUser"],[101,13,81,11],[101,14,81,12,"newUser"],[101,21,81,19],[101,22,81,20],[102,4,82,2],[102,5,82,3],[103,4,84,2],[103,10,84,8,"register"],[103,18,84,16],[103,21,84,19],[103,27,84,19,"register"],[103,28,84,26,"username"],[103,36,84,42],[103,38,84,44,"email"],[103,43,84,57],[103,45,84,59,"password"],[103,53,84,75],[103,58,84,80],[104,6,85,4],[104,12,85,10,"response"],[104,20,85,18],[104,23,85,21],[104,29,85,27,"api"],[104,32,85,30],[104,33,85,30,"default"],[104,40,85,30],[104,41,85,31,"post"],[104,45,85,35],[104,46,85,36],[104,62,85,52],[104,64,85,54],[105,8,85,56,"username"],[105,16,85,64],[106,8,85,66,"email"],[106,13,85,71],[107,8,85,73,"password"],[108,6,85,82],[108,7,85,83],[108,8,85,84],[109,6,86,4],[109,12,86,10],[110,8,86,12,"token"],[110,13,86,17],[110,15,86,19,"newToken"],[110,23,86,27],[111,8,86,29,"user"],[111,12,86,33],[111,14,86,35,"newUser"],[112,6,86,43],[112,7,86,44],[112,10,86,47,"response"],[112,18,86,55],[112,19,86,56,"data"],[112,23,86,60],[113,6,87,4],[113,12,87,10,"storage"],[113,19,87,17],[113,20,87,18,"setItem"],[113,27,87,25],[113,28,87,26],[113,39,87,37],[113,41,87,39,"newToken"],[113,49,87,47],[113,50,87,48],[114,6,88,4,"setToken"],[114,14,88,12],[114,15,88,13,"newToken"],[114,23,88,21],[114,24,88,22],[115,6,89,4,"setUser"],[115,13,89,11],[115,14,89,12,"newUser"],[115,21,89,19],[115,22,89,20],[116,4,90,2],[116,5,90,3],[117,4,92,2],[117,10,92,8,"logout"],[117,16,92,14],[117,19,92,17],[117,25,92,17,"logout"],[117,26,92,17],[117,31,92,29],[118,6,93,4],[118,12,93,10,"storage"],[118,19,93,17],[118,20,93,18,"deleteItem"],[118,30,93,28],[118,31,93,29],[118,42,93,40],[118,43,93,41],[119,6,94,4,"setToken"],[119,14,94,12],[119,15,94,13],[119,19,94,17],[119,20,94,18],[120,6,95,4,"setUser"],[120,13,95,11],[120,14,95,12],[120,18,95,16],[120,19,95,17],[121,4,96,2],[121,5,96,3],[122,4,98,2],[122,10,98,8,"refreshUser"],[122,21,98,19],[122,24,98,22],[122,30,98,22,"refreshUser"],[122,31,98,22],[122,36,98,34],[123,6,99,4],[123,10,99,8,"token"],[123,15,99,13],[123,17,99,15],[124,8,100,6],[124,14,100,12,"response"],[124,22,100,20],[124,25,100,23],[124,31,100,29,"api"],[124,34,100,32],[124,35,100,32,"default"],[124,42,100,32],[124,43,100,33,"get"],[124,46,100,36],[124,47,100,37],[124,57,100,47],[124,58,100,48],[125,8,101,6,"setUser"],[125,15,101,13],[125,16,101,14,"response"],[125,24,101,22],[125,25,101,23,"data"],[125,29,101,27],[125,30,101,28],[126,6,102,4],[127,4,103,2],[127,5,103,3],[128,4,105,2],[128,24,106,4],[128,28,106,4,"_reactJsxDevRuntime"],[128,47,106,4],[128,48,106,4,"jsxDEV"],[128,54,106,4],[128,56,106,5,"AuthContext"],[128,67,106,16],[128,68,106,17,"Provider"],[128,76,106,25],[129,6,106,26,"value"],[129,11,106,31],[129,13,106,33],[130,8,106,35,"user"],[130,12,106,39],[131,8,106,41,"token"],[131,13,106,46],[132,8,106,48,"loading"],[132,15,106,55],[133,8,106,57,"login"],[133,13,106,62],[134,8,106,64,"register"],[134,16,106,72],[135,8,106,74,"logout"],[135,14,106,80],[136,8,106,82,"refreshUser"],[137,6,106,94],[137,7,106,96],[138,6,106,96,"children"],[138,14,106,96],[138,16,107,7,"children"],[139,4,107,15],[140,6,107,15,"fileName"],[140,14,107,15],[140,16,107,15,"_jsxFileName"],[140,28,107,15],[141,6,107,15,"lineNumber"],[141,16,107,15],[142,6,107,15,"columnNumber"],[142,18,107,15],[143,4,107,15],[143,11,108,26],[143,12,108,27],[144,2,110,0],[145,2,110,1,"_s"],[145,4,110,1],[145,5,51,16,"AuthProvider"],[145,17,51,28],[146,2,51,28,"_c"],[146,4,51,28],[146,7,51,16,"AuthProvider"],[146,19,51,28],[147,2,112,7],[147,11,112,16,"useAuth"],[147,18,112,23,"useAuth"],[147,19,112,23],[147,21,112,26],[148,4,112,26,"_s2"],[148,7,112,26],[149,4,113,2],[149,10,113,8,"context"],[149,17,113,15],[149,20,113,18],[149,24,113,18,"useContext"],[149,30,113,28],[149,31,113,28,"useContext"],[149,41,113,28],[149,43,113,29,"AuthContext"],[149,54,113,40],[149,55,113,41],[150,4,114,2],[150,8,114,6,"context"],[150,15,114,13],[150,20,114,18,"undefined"],[150,29,114,27],[150,31,114,29],[151,6,115,4],[151,12,115,10],[151,16,115,14,"Error"],[151,21,115,19],[151,22,115,20],[151,67,115,65],[151,68,115,66],[152,4,116,2],[153,4,117,2],[153,11,117,9,"context"],[153,18,117,16],[154,2,118,0],[155,2,118,1,"_s2"],[155,5,118,1],[155,6,112,16,"useAuth"],[155,13,112,23],[156,2,112,23],[156,6,112,23,"_c"],[156,8,112,23],[157,2,112,23,"$RefreshReg$"],[157,14,112,23],[157,15,112,23,"_c"],[157,17,112,23],[158,0,112,23],[158,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;EC4B;GDK;EEC;GFM;EGC;GHM;OIG;YCK;GDE;yBEE;GFc;gBGE;GHM;mBIE;GJM;iBKE;GLI;sBME;GNK;CJO;OWE"},"hasCjsExports":false},"type":"js/module"}]}