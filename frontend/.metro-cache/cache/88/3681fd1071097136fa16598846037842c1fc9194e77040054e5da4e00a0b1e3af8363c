{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":31,"index":160}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          // Fetch user profile\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const register = async (username, email, password) => {\n      const response = await api.default.post('/auth/register', {\n        username,\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await SecureStore.setItemAsync('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":132,"map":[[30,2,26,0,"exports"],[30,9,26,0],[30,10,26,0,"AuthProvider"],[30,22,26,0],[30,25,26,0,"AuthProvider"],[30,37,26,0],[31,2,87,0,"exports"],[31,9,87,0],[31,10,87,0,"useAuth"],[31,17,87,0],[31,20,87,0,"useAuth"],[31,27,87,0],[32,2,1,0],[32,6,1,0,"_react"],[32,12,1,0],[32,15,1,0,"require"],[32,22,1,0],[32,23,1,0,"_dependencyMap"],[32,37,1,0],[33,2,2,0],[33,6,2,0,"_expoSecureStore"],[33,22,2,0],[33,25,2,0,"require"],[33,32,2,0],[33,33,2,0,"_dependencyMap"],[33,47,2,0],[34,2,2,0],[34,6,2,0,"SecureStore"],[34,17,2,0],[34,20,2,0,"_interopNamespace"],[34,37,2,0],[34,38,2,0,"_expoSecureStore"],[34,54,2,0],[35,2,3,0],[35,6,3,0,"_utilsApi"],[35,15,3,0],[35,18,3,0,"require"],[35,25,3,0],[35,26,3,0,"_dependencyMap"],[35,40,3,0],[36,2,3,0],[36,6,3,0,"api"],[36,9,3,0],[36,12,3,0,"_interopDefault"],[36,27,3,0],[36,28,3,0,"_utilsApi"],[36,37,3,0],[37,2,3,31],[37,6,3,31,"_reactJsxDevRuntime"],[37,25,3,31],[37,28,3,31,"require"],[37,35,3,31],[37,36,3,31,"_dependencyMap"],[37,50,3,31],[38,2,24,0],[38,8,24,6,"AuthContext"],[38,19,24,17],[38,35,24,20],[38,39,24,20,"createContext"],[38,45,24,33],[38,46,24,33,"createContext"],[38,59,24,33],[38,61,24,63,"undefined"],[38,70,24,72],[38,71,24,73],[39,2,26,7],[39,11,26,16,"AuthProvider"],[39,23,26,28,"AuthProvider"],[39,24,26,29],[40,4,26,31,"children"],[41,2,26,71],[41,3,26,72],[41,5,26,74],[42,4,26,74,"_s"],[42,6,26,74],[43,4,27,2],[43,10,27,8],[43,11,27,9,"user"],[43,15,27,13],[43,17,27,15,"setUser"],[43,24,27,22],[43,25,27,23],[43,28,27,26],[43,32,27,26,"useState"],[43,38,27,34],[43,39,27,34,"useState"],[43,47,27,34],[43,49,27,48],[43,53,27,52],[43,54,27,53],[44,4,28,2],[44,10,28,8],[44,11,28,9,"token"],[44,16,28,14],[44,18,28,16,"setToken"],[44,26,28,24],[44,27,28,25],[44,30,28,28],[44,34,28,28,"useState"],[44,40,28,36],[44,41,28,36,"useState"],[44,49,28,36],[44,51,28,52],[44,55,28,56],[44,56,28,57],[45,4,29,2],[45,10,29,8],[45,11,29,9,"loading"],[45,18,29,16],[45,20,29,18,"setLoading"],[45,30,29,28],[45,31,29,29],[45,34,29,32],[45,38,29,32,"useState"],[45,44,29,40],[45,45,29,40,"useState"],[45,53,29,40],[45,55,29,41],[45,59,29,45],[45,60,29,46],[46,4,31,2],[46,8,31,2,"useEffect"],[46,14,31,11],[46,15,31,11,"useEffect"],[46,24,31,11],[46,26,31,12],[46,32,31,18],[47,6,32,4,"loadStoredAuth"],[47,20,32,18],[47,21,32,19],[47,22,32,20],[48,4,33,2],[48,5,33,3],[48,7,33,5],[48,9,33,7],[48,10,33,8],[49,4,35,2],[49,10,35,8,"loadStoredAuth"],[49,24,35,22],[49,27,35,25],[49,33,35,25,"loadStoredAuth"],[49,34,35,25],[49,39,35,37],[50,6,36,4],[50,10,36,8],[51,8,37,6],[51,14,37,12,"storedToken"],[51,25,37,23],[51,28,37,26],[51,34,37,32,"SecureStore"],[51,45,37,43],[51,46,37,44,"getItemAsync"],[51,58,37,56],[51,59,37,57],[51,70,37,68],[51,71,37,69],[52,8,38,6],[52,12,38,10,"storedToken"],[52,23,38,21],[52,25,38,23],[53,10,39,8,"setToken"],[53,18,39,16],[53,19,39,17,"storedToken"],[53,30,39,28],[53,31,39,29],[54,10,40,8],[55,10,41,8],[55,16,41,14,"response"],[55,24,41,22],[55,27,41,25],[55,33,41,31,"api"],[55,36,41,34],[55,37,41,34,"default"],[55,44,41,34],[55,45,41,35,"get"],[55,48,41,38],[55,49,41,39],[55,59,41,49],[55,60,41,50],[56,10,42,8,"setUser"],[56,17,42,15],[56,18,42,16,"response"],[56,26,42,24],[56,27,42,25,"data"],[56,31,42,29],[56,32,42,30],[57,8,43,6],[58,6,44,4],[58,7,44,5],[58,8,44,6],[58,15,44,13,"error"],[58,20,44,18],[58,22,44,20],[59,8,45,6,"console"],[59,15,45,13],[59,16,45,14,"error"],[59,21,45,19],[59,22,45,20],[59,43,45,41],[59,45,45,43,"error"],[59,50,45,48],[59,51,45,49],[60,6,46,4],[60,7,46,5],[60,16,46,14],[61,8,47,6,"setLoading"],[61,18,47,16],[61,19,47,17],[61,24,47,22],[61,25,47,23],[62,6,48,4],[63,4,49,2],[63,5,49,3],[64,4,51,2],[64,10,51,8,"login"],[64,15,51,13],[64,18,51,16],[64,24,51,16,"login"],[64,25,51,23,"email"],[64,30,51,36],[64,32,51,38,"password"],[64,40,51,54],[64,45,51,59],[65,6,52,4],[65,12,52,10,"response"],[65,20,52,18],[65,23,52,21],[65,29,52,27,"api"],[65,32,52,30],[65,33,52,30,"default"],[65,40,52,30],[65,41,52,31,"post"],[65,45,52,35],[65,46,52,36],[65,59,52,49],[65,61,52,51],[66,8,52,53,"email"],[66,13,52,58],[67,8,52,60,"password"],[68,6,52,69],[68,7,52,70],[68,8,52,71],[69,6,53,4],[69,12,53,10],[70,8,53,12,"token"],[70,13,53,17],[70,15,53,19,"newToken"],[70,23,53,27],[71,8,53,29,"user"],[71,12,53,33],[71,14,53,35,"newUser"],[72,6,53,43],[72,7,53,44],[72,10,53,47,"response"],[72,18,53,55],[72,19,53,56,"data"],[72,23,53,60],[73,6,54,4],[73,12,54,10,"SecureStore"],[73,23,54,21],[73,24,54,22,"setItemAsync"],[73,36,54,34],[73,37,54,35],[73,48,54,46],[73,50,54,48,"newToken"],[73,58,54,56],[73,59,54,57],[74,6,55,4,"setToken"],[74,14,55,12],[74,15,55,13,"newToken"],[74,23,55,21],[74,24,55,22],[75,6,56,4,"setUser"],[75,13,56,11],[75,14,56,12,"newUser"],[75,21,56,19],[75,22,56,20],[76,4,57,2],[76,5,57,3],[77,4,59,2],[77,10,59,8,"register"],[77,18,59,16],[77,21,59,19],[77,27,59,19,"register"],[77,28,59,26,"username"],[77,36,59,42],[77,38,59,44,"email"],[77,43,59,57],[77,45,59,59,"password"],[77,53,59,75],[77,58,59,80],[78,6,60,4],[78,12,60,10,"response"],[78,20,60,18],[78,23,60,21],[78,29,60,27,"api"],[78,32,60,30],[78,33,60,30,"default"],[78,40,60,30],[78,41,60,31,"post"],[78,45,60,35],[78,46,60,36],[78,62,60,52],[78,64,60,54],[79,8,60,56,"username"],[79,16,60,64],[80,8,60,66,"email"],[80,13,60,71],[81,8,60,73,"password"],[82,6,60,82],[82,7,60,83],[82,8,60,84],[83,6,61,4],[83,12,61,10],[84,8,61,12,"token"],[84,13,61,17],[84,15,61,19,"newToken"],[84,23,61,27],[85,8,61,29,"user"],[85,12,61,33],[85,14,61,35,"newUser"],[86,6,61,43],[86,7,61,44],[86,10,61,47,"response"],[86,18,61,55],[86,19,61,56,"data"],[86,23,61,60],[87,6,62,4],[87,12,62,10,"SecureStore"],[87,23,62,21],[87,24,62,22,"setItemAsync"],[87,36,62,34],[87,37,62,35],[87,48,62,46],[87,50,62,48,"newToken"],[87,58,62,56],[87,59,62,57],[88,6,63,4,"setToken"],[88,14,63,12],[88,15,63,13,"newToken"],[88,23,63,21],[88,24,63,22],[89,6,64,4,"setUser"],[89,13,64,11],[89,14,64,12,"newUser"],[89,21,64,19],[89,22,64,20],[90,4,65,2],[90,5,65,3],[91,4,67,2],[91,10,67,8,"logout"],[91,16,67,14],[91,19,67,17],[91,25,67,17,"logout"],[91,26,67,17],[91,31,67,29],[92,6,68,4],[92,12,68,10,"SecureStore"],[92,23,68,21],[92,24,68,22,"deleteItemAsync"],[92,39,68,37],[92,40,68,38],[92,51,68,49],[92,52,68,50],[93,6,69,4,"setToken"],[93,14,69,12],[93,15,69,13],[93,19,69,17],[93,20,69,18],[94,6,70,4,"setUser"],[94,13,70,11],[94,14,70,12],[94,18,70,16],[94,19,70,17],[95,4,71,2],[95,5,71,3],[96,4,73,2],[96,10,73,8,"refreshUser"],[96,21,73,19],[96,24,73,22],[96,30,73,22,"refreshUser"],[96,31,73,22],[96,36,73,34],[97,6,74,4],[97,10,74,8,"token"],[97,15,74,13],[97,17,74,15],[98,8,75,6],[98,14,75,12,"response"],[98,22,75,20],[98,25,75,23],[98,31,75,29,"api"],[98,34,75,32],[98,35,75,32,"default"],[98,42,75,32],[98,43,75,33,"get"],[98,46,75,36],[98,47,75,37],[98,57,75,47],[98,58,75,48],[99,8,76,6,"setUser"],[99,15,76,13],[99,16,76,14,"response"],[99,24,76,22],[99,25,76,23,"data"],[99,29,76,27],[99,30,76,28],[100,6,77,4],[101,4,78,2],[101,5,78,3],[102,4,80,2],[102,24,81,4],[102,28,81,4,"_reactJsxDevRuntime"],[102,47,81,4],[102,48,81,4,"jsxDEV"],[102,54,81,4],[102,56,81,5,"AuthContext"],[102,67,81,16],[102,68,81,17,"Provider"],[102,76,81,25],[103,6,81,26,"value"],[103,11,81,31],[103,13,81,33],[104,8,81,35,"user"],[104,12,81,39],[105,8,81,41,"token"],[105,13,81,46],[106,8,81,48,"loading"],[106,15,81,55],[107,8,81,57,"login"],[107,13,81,62],[108,8,81,64,"register"],[108,16,81,72],[109,8,81,74,"logout"],[109,14,81,80],[110,8,81,82,"refreshUser"],[111,6,81,94],[111,7,81,96],[112,6,81,96,"children"],[112,14,81,96],[112,16,82,7,"children"],[113,4,82,15],[114,6,82,15,"fileName"],[114,14,82,15],[114,16,82,15,"_jsxFileName"],[114,28,82,15],[115,6,82,15,"lineNumber"],[115,16,82,15],[116,6,82,15,"columnNumber"],[116,18,82,15],[117,4,82,15],[117,11,83,26],[117,12,83,27],[118,2,85,0],[119,2,85,1,"_s"],[119,4,85,1],[119,5,26,16,"AuthProvider"],[119,17,26,28],[120,2,26,28,"_c"],[120,4,26,28],[120,7,26,16,"AuthProvider"],[120,19,26,28],[121,2,87,7],[121,11,87,16,"useAuth"],[121,18,87,23,"useAuth"],[121,19,87,23],[121,21,87,26],[122,4,87,26,"_s2"],[122,7,87,26],[123,4,88,2],[123,10,88,8,"context"],[123,17,88,15],[123,20,88,18],[123,24,88,18,"useContext"],[123,30,88,28],[123,31,88,28,"useContext"],[123,41,88,28],[123,43,88,29,"AuthContext"],[123,54,88,40],[123,55,88,41],[124,4,89,2],[124,8,89,6,"context"],[124,15,89,13],[124,20,89,18,"undefined"],[124,29,89,27],[124,31,89,29],[125,6,90,4],[125,12,90,10],[125,16,90,14,"Error"],[125,21,90,19],[125,22,90,20],[125,67,90,65],[125,68,90,66],[126,4,91,2],[127,4,92,2],[127,11,92,9,"context"],[127,18,92,16],[128,2,93,0],[129,2,93,1,"_s2"],[129,5,93,1],[129,6,87,16,"useAuth"],[129,13,87,23],[130,2,87,23],[130,6,87,23,"_c"],[130,8,87,23],[131,2,87,23,"$RefreshReg$"],[131,14,87,23],[131,15,87,23,"_c"],[131,17,87,23],[132,0,87,23],[132,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHM;mBIE;GJM;iBKE;GLI;sBME;GNK;CDO;OQE"},"hasCjsExports":false},"type":"js/module"}]}