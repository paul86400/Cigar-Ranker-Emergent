{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":170},"end":{"line":4,"column":31,"index":201}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _utilsApi = require(_dependencyMap[3], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // Storage helpers with web fallback\n  const storage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await storage.getItem('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          // Fetch user profile\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await storage.setItem('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const register = async (username, email, password) => {\n      const response = await api.default.post('/auth/register', {\n        username,\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await storage.setItem('authToken', newToken);\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const logout = async () => {\n      await storage.deleteItem('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":149,"map":[[28,2,51,0,"exports"],[28,9,51,0],[28,10,51,0,"AuthProvider"],[28,22,51,0],[28,25,51,0,"AuthProvider"],[28,37,51,0],[29,2,112,0,"exports"],[29,9,112,0],[29,10,112,0,"useAuth"],[29,17,112,0],[29,20,112,0,"useAuth"],[29,27,112,0],[30,2,1,0],[30,6,1,0,"_react"],[30,12,1,0],[30,15,1,0,"require"],[30,22,1,0],[30,23,1,0,"_dependencyMap"],[30,37,1,0],[31,2,2,0],[31,6,2,0,"_expoSecureStore"],[31,22,2,0],[31,25,2,0,"require"],[31,32,2,0],[31,33,2,0,"_dependencyMap"],[31,47,2,0],[32,2,2,0],[32,6,2,0,"SecureStore"],[32,17,2,0],[32,20,2,0,"_interopNamespace"],[32,37,2,0],[32,38,2,0,"_expoSecureStore"],[32,54,2,0],[33,2,2,49],[33,6,2,49,"_reactNativeWebDistExportsPlatform"],[33,40,2,49],[33,43,2,49,"require"],[33,50,2,49],[33,51,2,49,"_dependencyMap"],[33,65,2,49],[34,2,2,49],[34,6,2,49,"Platform"],[34,14,2,49],[34,17,2,49,"_interopDefault"],[34,32,2,49],[34,33,2,49,"_reactNativeWebDistExportsPlatform"],[34,67,2,49],[35,2,4,0],[35,6,4,0,"_utilsApi"],[35,15,4,0],[35,18,4,0,"require"],[35,25,4,0],[35,26,4,0,"_dependencyMap"],[35,40,4,0],[36,2,4,0],[36,6,4,0,"api"],[36,9,4,0],[36,12,4,0,"_interopDefault"],[36,27,4,0],[36,28,4,0,"_utilsApi"],[36,37,4,0],[37,2,4,31],[37,6,4,31,"_reactJsxDevRuntime"],[37,25,4,31],[37,28,4,31,"require"],[37,35,4,31],[37,36,4,31,"_dependencyMap"],[37,50,4,31],[38,2,25,0],[38,8,25,6,"AuthContext"],[38,19,25,17],[38,35,25,20],[38,39,25,20,"createContext"],[38,45,25,33],[38,46,25,33,"createContext"],[38,59,25,33],[38,61,25,63,"undefined"],[38,70,25,72],[38,71,25,73],[40,2,27,0],[41,2,28,0],[41,8,28,6,"storage"],[41,15,28,13],[41,18,28,16],[42,4,29,2],[42,10,29,8,"getItem"],[42,17,29,15,"getItem"],[42,18,29,16,"key"],[42,21,29,27],[42,23,29,53],[43,6,30,4],[43,10,30,8,"Platform"],[43,18,30,16],[43,19,30,16,"default"],[43,26,30,16],[43,27,30,17,"OS"],[43,29,30,19],[43,34,30,24],[43,39,30,29],[43,41,30,31],[44,8,31,6],[44,15,31,13,"localStorage"],[44,27,31,25],[44,28,31,26,"getItem"],[44,35,31,33],[44,36,31,34,"key"],[44,39,31,37],[44,40,31,38],[45,6,32,4],[46,6,33,4],[46,13,33,11],[46,19,33,17,"SecureStore"],[46,30,33,28],[46,31,33,29,"getItemAsync"],[46,43,33,41],[46,44,33,42,"key"],[46,47,33,45],[46,48,33,46],[47,4,34,2],[47,5,34,3],[48,4,35,2],[48,10,35,8,"setItem"],[48,17,35,15,"setItem"],[48,18,35,16,"key"],[48,21,35,27],[48,23,35,29,"value"],[48,28,35,42],[48,30,35,59],[49,6,36,4],[49,10,36,8,"Platform"],[49,18,36,16],[49,19,36,16,"default"],[49,26,36,16],[49,27,36,17,"OS"],[49,29,36,19],[49,34,36,24],[49,39,36,29],[49,41,36,31],[50,8,37,6,"localStorage"],[50,20,37,18],[50,21,37,19,"setItem"],[50,28,37,26],[50,29,37,27,"key"],[50,32,37,30],[50,34,37,32,"value"],[50,39,37,37],[50,40,37,38],[51,6,38,4],[51,7,38,5],[51,13,38,11],[52,8,39,6],[52,14,39,12,"SecureStore"],[52,25,39,23],[52,26,39,24,"setItemAsync"],[52,38,39,36],[52,39,39,37,"key"],[52,42,39,40],[52,44,39,42,"value"],[52,49,39,47],[52,50,39,48],[53,6,40,4],[54,4,41,2],[54,5,41,3],[55,4,42,2],[55,10,42,8,"deleteItem"],[55,20,42,18,"deleteItem"],[55,21,42,19,"key"],[55,24,42,30],[55,26,42,47],[56,6,43,4],[56,10,43,8,"Platform"],[56,18,43,16],[56,19,43,16,"default"],[56,26,43,16],[56,27,43,17,"OS"],[56,29,43,19],[56,34,43,24],[56,39,43,29],[56,41,43,31],[57,8,44,6,"localStorage"],[57,20,44,18],[57,21,44,19,"removeItem"],[57,31,44,29],[57,32,44,30,"key"],[57,35,44,33],[57,36,44,34],[58,6,45,4],[58,7,45,5],[58,13,45,11],[59,8,46,6],[59,14,46,12,"SecureStore"],[59,25,46,23],[59,26,46,24,"deleteItemAsync"],[59,41,46,39],[59,42,46,40,"key"],[59,45,46,43],[59,46,46,44],[60,6,47,4],[61,4,48,2],[62,2,49,0],[62,3,49,1],[63,2,51,7],[63,11,51,16,"AuthProvider"],[63,23,51,28,"AuthProvider"],[63,24,51,29],[64,4,51,31,"children"],[65,2,51,71],[65,3,51,72],[65,5,51,74],[66,4,52,2],[66,10,52,8],[66,11,52,9,"user"],[66,15,52,13],[66,17,52,15,"setUser"],[66,24,52,22],[66,25,52,23],[66,28,52,26],[66,32,52,26,"useState"],[66,38,52,34],[66,39,52,34,"useState"],[66,47,52,34],[66,49,52,48],[66,53,52,52],[66,54,52,53],[67,4,53,2],[67,10,53,8],[67,11,53,9,"token"],[67,16,53,14],[67,18,53,16,"setToken"],[67,26,53,24],[67,27,53,25],[67,30,53,28],[67,34,53,28,"useState"],[67,40,53,36],[67,41,53,36,"useState"],[67,49,53,36],[67,51,53,52],[67,55,53,56],[67,56,53,57],[68,4,54,2],[68,10,54,8],[68,11,54,9,"loading"],[68,18,54,16],[68,20,54,18,"setLoading"],[68,30,54,28],[68,31,54,29],[68,34,54,32],[68,38,54,32,"useState"],[68,44,54,40],[68,45,54,40,"useState"],[68,53,54,40],[68,55,54,41],[68,59,54,45],[68,60,54,46],[69,4,56,2],[69,8,56,2,"useEffect"],[69,14,56,11],[69,15,56,11,"useEffect"],[69,24,56,11],[69,26,56,12],[69,32,56,18],[70,6,57,4,"loadStoredAuth"],[70,20,57,18],[70,21,57,19],[70,22,57,20],[71,4,58,2],[71,5,58,3],[71,7,58,5],[71,9,58,7],[71,10,58,8],[72,4,60,2],[72,10,60,8,"loadStoredAuth"],[72,24,60,22],[72,27,60,25],[72,33,60,25,"loadStoredAuth"],[72,34,60,25],[72,39,60,37],[73,6,61,4],[73,10,61,8],[74,8,62,6],[74,14,62,12,"storedToken"],[74,25,62,23],[74,28,62,26],[74,34,62,32,"storage"],[74,41,62,39],[74,42,62,40,"getItem"],[74,49,62,47],[74,50,62,48],[74,61,62,59],[74,62,62,60],[75,8,63,6],[75,12,63,10,"storedToken"],[75,23,63,21],[75,25,63,23],[76,10,64,8,"setToken"],[76,18,64,16],[76,19,64,17,"storedToken"],[76,30,64,28],[76,31,64,29],[77,10,65,8],[78,10,66,8],[78,16,66,14,"response"],[78,24,66,22],[78,27,66,25],[78,33,66,31,"api"],[78,36,66,34],[78,37,66,34,"default"],[78,44,66,34],[78,45,66,35,"get"],[78,48,66,38],[78,49,66,39],[78,59,66,49],[78,60,66,50],[79,10,67,8,"setUser"],[79,17,67,15],[79,18,67,16,"response"],[79,26,67,24],[79,27,67,25,"data"],[79,31,67,29],[79,32,67,30],[80,8,68,6],[81,6,69,4],[81,7,69,5],[81,8,69,6],[81,15,69,13,"error"],[81,20,69,18],[81,22,69,20],[82,8,70,6,"console"],[82,15,70,13],[82,16,70,14,"error"],[82,21,70,19],[82,22,70,20],[82,43,70,41],[82,45,70,43,"error"],[82,50,70,48],[82,51,70,49],[83,6,71,4],[83,7,71,5],[83,16,71,14],[84,8,72,6,"setLoading"],[84,18,72,16],[84,19,72,17],[84,24,72,22],[84,25,72,23],[85,6,73,4],[86,4,74,2],[86,5,74,3],[87,4,76,2],[87,10,76,8,"login"],[87,15,76,13],[87,18,76,16],[87,24,76,16,"login"],[87,25,76,23,"email"],[87,30,76,36],[87,32,76,38,"password"],[87,40,76,54],[87,45,76,59],[88,6,77,4],[88,12,77,10,"response"],[88,20,77,18],[88,23,77,21],[88,29,77,27,"api"],[88,32,77,30],[88,33,77,30,"default"],[88,40,77,30],[88,41,77,31,"post"],[88,45,77,35],[88,46,77,36],[88,59,77,49],[88,61,77,51],[89,8,77,53,"email"],[89,13,77,58],[90,8,77,60,"password"],[91,6,77,69],[91,7,77,70],[91,8,77,71],[92,6,78,4],[92,12,78,10],[93,8,78,12,"token"],[93,13,78,17],[93,15,78,19,"newToken"],[93,23,78,27],[94,8,78,29,"user"],[94,12,78,33],[94,14,78,35,"newUser"],[95,6,78,43],[95,7,78,44],[95,10,78,47,"response"],[95,18,78,55],[95,19,78,56,"data"],[95,23,78,60],[96,6,79,4],[96,12,79,10,"storage"],[96,19,79,17],[96,20,79,18,"setItem"],[96,27,79,25],[96,28,79,26],[96,39,79,37],[96,41,79,39,"newToken"],[96,49,79,47],[96,50,79,48],[97,6,80,4,"setToken"],[97,14,80,12],[97,15,80,13,"newToken"],[97,23,80,21],[97,24,80,22],[98,6,81,4,"setUser"],[98,13,81,11],[98,14,81,12,"newUser"],[98,21,81,19],[98,22,81,20],[99,4,82,2],[99,5,82,3],[100,4,84,2],[100,10,84,8,"register"],[100,18,84,16],[100,21,84,19],[100,27,84,19,"register"],[100,28,84,26,"username"],[100,36,84,42],[100,38,84,44,"email"],[100,43,84,57],[100,45,84,59,"password"],[100,53,84,75],[100,58,84,80],[101,6,85,4],[101,12,85,10,"response"],[101,20,85,18],[101,23,85,21],[101,29,85,27,"api"],[101,32,85,30],[101,33,85,30,"default"],[101,40,85,30],[101,41,85,31,"post"],[101,45,85,35],[101,46,85,36],[101,62,85,52],[101,64,85,54],[102,8,85,56,"username"],[102,16,85,64],[103,8,85,66,"email"],[103,13,85,71],[104,8,85,73,"password"],[105,6,85,82],[105,7,85,83],[105,8,85,84],[106,6,86,4],[106,12,86,10],[107,8,86,12,"token"],[107,13,86,17],[107,15,86,19,"newToken"],[107,23,86,27],[108,8,86,29,"user"],[108,12,86,33],[108,14,86,35,"newUser"],[109,6,86,43],[109,7,86,44],[109,10,86,47,"response"],[109,18,86,55],[109,19,86,56,"data"],[109,23,86,60],[110,6,87,4],[110,12,87,10,"storage"],[110,19,87,17],[110,20,87,18,"setItem"],[110,27,87,25],[110,28,87,26],[110,39,87,37],[110,41,87,39,"newToken"],[110,49,87,47],[110,50,87,48],[111,6,88,4,"setToken"],[111,14,88,12],[111,15,88,13,"newToken"],[111,23,88,21],[111,24,88,22],[112,6,89,4,"setUser"],[112,13,89,11],[112,14,89,12,"newUser"],[112,21,89,19],[112,22,89,20],[113,4,90,2],[113,5,90,3],[114,4,92,2],[114,10,92,8,"logout"],[114,16,92,14],[114,19,92,17],[114,25,92,17,"logout"],[114,26,92,17],[114,31,92,29],[115,6,93,4],[115,12,93,10,"storage"],[115,19,93,17],[115,20,93,18,"deleteItem"],[115,30,93,28],[115,31,93,29],[115,42,93,40],[115,43,93,41],[116,6,94,4,"setToken"],[116,14,94,12],[116,15,94,13],[116,19,94,17],[116,20,94,18],[117,6,95,4,"setUser"],[117,13,95,11],[117,14,95,12],[117,18,95,16],[117,19,95,17],[118,4,96,2],[118,5,96,3],[119,4,98,2],[119,10,98,8,"refreshUser"],[119,21,98,19],[119,24,98,22],[119,30,98,22,"refreshUser"],[119,31,98,22],[119,36,98,34],[120,6,99,4],[120,10,99,8,"token"],[120,15,99,13],[120,17,99,15],[121,8,100,6],[121,14,100,12,"response"],[121,22,100,20],[121,25,100,23],[121,31,100,29,"api"],[121,34,100,32],[121,35,100,32,"default"],[121,42,100,32],[121,43,100,33,"get"],[121,46,100,36],[121,47,100,37],[121,57,100,47],[121,58,100,48],[122,8,101,6,"setUser"],[122,15,101,13],[122,16,101,14,"response"],[122,24,101,22],[122,25,101,23,"data"],[122,29,101,27],[122,30,101,28],[123,6,102,4],[124,4,103,2],[124,5,103,3],[125,4,105,2],[125,24,106,4],[125,28,106,4,"_reactJsxDevRuntime"],[125,47,106,4],[125,48,106,4,"jsxDEV"],[125,54,106,4],[125,56,106,5,"AuthContext"],[125,67,106,16],[125,68,106,17,"Provider"],[125,76,106,25],[126,6,106,26,"value"],[126,11,106,31],[126,13,106,33],[127,8,106,35,"user"],[127,12,106,39],[128,8,106,41,"token"],[128,13,106,46],[129,8,106,48,"loading"],[129,15,106,55],[130,8,106,57,"login"],[130,13,106,62],[131,8,106,64,"register"],[131,16,106,72],[132,8,106,74,"logout"],[132,14,106,80],[133,8,106,82,"refreshUser"],[134,6,106,94],[134,7,106,96],[135,6,106,96,"children"],[135,14,106,96],[135,16,107,7,"children"],[136,4,107,15],[137,6,107,15,"fileName"],[137,14,107,15],[137,16,107,15,"_jsxFileName"],[137,28,107,15],[138,6,107,15,"lineNumber"],[138,16,107,15],[139,6,107,15,"columnNumber"],[139,18,107,15],[140,4,107,15],[140,11,108,26],[140,12,108,27],[141,2,110,0],[142,2,112,7],[142,11,112,16,"useAuth"],[142,18,112,23,"useAuth"],[142,19,112,23],[142,21,112,26],[143,4,113,2],[143,10,113,8,"context"],[143,17,113,15],[143,20,113,18],[143,24,113,18,"useContext"],[143,30,113,28],[143,31,113,28,"useContext"],[143,41,113,28],[143,43,113,29,"AuthContext"],[143,54,113,40],[143,55,113,41],[144,4,114,2],[144,8,114,6,"context"],[144,15,114,13],[144,20,114,18,"undefined"],[144,29,114,27],[144,31,114,29],[145,6,115,4],[145,12,115,10],[145,16,115,14,"Error"],[145,21,115,19],[145,22,115,20],[145,67,115,65],[145,68,115,66],[146,4,116,2],[147,4,117,2],[147,11,117,9,"context"],[147,18,117,16],[148,2,118,0],[149,0,118,1],[149,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;EC4B;GDK;EEC;GFM;EGC;GHM;OIG;YCK;GDE;yBEE;GFc;gBGE;GHM;mBIE;GJM;iBKE;GLI;sBME;GNK;CJO;OWE"},"hasCjsExports":false},"type":"js/module"}]}